/*
SCRIPT BY © VYNAA VALERIE 
•• recode kasih credits 
•• contacts: (6282389924037)
•• instagram: @vynaa_valerie 
•• (github.com/VynaaValerie) 
*/
function _0x5f45(_0xe27961,_0x60c4f4){const _0x1def0c=_0x1def();return _0x5f45=function(_0x5f4512,_0x5a0dc5){_0x5f4512=_0x5f4512-0x8b;let _0x347dc5=_0x1def0c[_0x5f4512];return _0x347dc5;},_0x5f45(_0xe27961,_0x60c4f4);}const _0xc7092e=_0x5f45;(function(_0x1771e2,_0x54d447){const _0xb67e3f=_0x5f45,_0x471c91=_0x1771e2();while(!![]){try{const _0x17d90c=parseInt(_0xb67e3f(0x9a))/0x1*(-parseInt(_0xb67e3f(0xb1))/0x2)+parseInt(_0xb67e3f(0x8d))/0x3*(-parseInt(_0xb67e3f(0x96))/0x4)+-parseInt(_0xb67e3f(0x9d))/0x5+parseInt(_0xb67e3f(0xa5))/0x6+parseInt(_0xb67e3f(0xae))/0x7+parseInt(_0xb67e3f(0x95))/0x8*(-parseInt(_0xb67e3f(0xa2))/0x9)+-parseInt(_0xb67e3f(0x93))/0xa*(-parseInt(_0xb67e3f(0x8b))/0xb);if(_0x17d90c===_0x54d447)break;else _0x471c91['push'](_0x471c91['shift']());}catch(_0x1d599a){_0x471c91['push'](_0x471c91['shift']());}}}(_0x1def,0xa74f1));import _0x172d09 from'node-cron';import _0x1f1871 from'axios';function _0x1def(){const _0x4c20b0=['help','41569DFUDAT','📰\x20Fitur\x20autoberita\x20dimatikan.\x20Kamu\x20tidak\x20akan\x20menerima\x20notifikasi\x20berita\x20lagi.','60876KOWLPH','filter','data','❌\x20Gagal\x20mengambil\x20berita\x20terbaru.\x20Coba\x20lagi\x20nanti.','Error\x20fetching\x20news','get','6530XJBXwi','schedule','246184RgGVqO','36JzxDGO','tags','Penggunaan:\x20.autoberita\x20on/off','autoberita','107pGeSnV','slug','trim','4434980GGTngg','chat','general','error','stop','369xEXkpL','command','https://api.siputzx.my.id/api/berita/cnn','1847904hwcusg','off','includes','sendMessage','link','*\x0a\x0a','length','toLowerCase','...\x0a\x0aBaca\x20lebih\x20lanjut\x20di:\x20','7916783eZhWUv','slice','status','16636jRoeve'];_0x1def=function(){return _0x4c20b0;};return _0x1def();}let beritaTasks={},beritaLastUpdate={};async function fetchBeritaTerbaru(){const _0x36725e=_0x5f45,_0x248c8e=_0x36725e(0xa4);try{const _0x41668b=await _0x1f1871[_0x36725e(0x92)](_0x248c8e);return _0x41668b[_0x36725e(0x8f)][_0x36725e(0xb0)]?_0x41668b[_0x36725e(0x8f)]['data'][_0x36725e(0xaf)](0x0,0x3):(console[_0x36725e(0xa0)](_0x36725e(0x91)),null);}catch(_0xdcdd07){return console['error']('Error\x20fetching\x20news:',_0xdcdd07['message']),null;}}async function kirimBerita(_0x3533f4,_0x222075,_0x2f5f0b){const _0x484799=_0x5f45;for(const _0x5c599c of _0x2f5f0b){const {title:_0x47077d,image_thumbnail:_0x27dbeb,content:_0x26da2f}=_0x5c599c;await _0x222075['sendMessage'](_0x3533f4,{'image':{'url':_0x27dbeb},'caption':'*'+_0x47077d+_0x484799(0xaa)+_0x26da2f[_0x484799(0xaf)](0x0,0x12c)+_0x484799(0xad)+_0x5c599c[_0x484799(0xa9)]});}}async function scheduleBerita(_0x4c454b,_0x5332a7){const _0x29cec3=_0x5f45;if(beritaTasks[_0x4c454b])beritaTasks[_0x4c454b][_0x29cec3(0xa1)]();beritaTasks[_0x4c454b]=_0x172d09[_0x29cec3(0x94)]('*/10\x20*\x20*\x20*\x20*',async()=>{const _0x4c58ad=_0x29cec3,_0x75c641=await fetchBeritaTerbaru();if(!_0x75c641){_0x5332a7[_0x4c58ad(0xa8)](_0x4c454b,{'text':_0x4c58ad(0x90)});return;}const _0x3838bb=_0x75c641[_0x4c58ad(0x8e)](_0x3e8b6f=>!beritaLastUpdate[_0x4c454b]?.[_0x4c58ad(0xa7)](_0x3e8b6f[_0x4c58ad(0x9b)]));_0x3838bb[_0x4c58ad(0xab)]>0x0&&(beritaLastUpdate[_0x4c454b]=_0x75c641['map'](_0x389a1e=>_0x389a1e[_0x4c58ad(0x9b)]),await kirimBerita(_0x4c454b,_0x5332a7,_0x3838bb));},{'timezone':'Asia/Jakarta'}),_0x5332a7[_0x29cec3(0xa8)](_0x4c454b,{'text':'📰\x20Fitur\x20berita\x20terbaru\x20berhasil\x20dijadwalkan.\x20Kamu\x20akan\x20menerima\x20notifikasi\x20jika\x20ada\x20berita\x20baru.'});}let handler=async(_0x11391a,{conn:_0x35dc5f,text:_0x81063c})=>{const _0x2ec7d4=_0x5f45,_0x4c61fb=_0x81063c[_0x2ec7d4(0x9c)]()[_0x2ec7d4(0xac)]();if(_0x4c61fb==='on'){if(!beritaLastUpdate[_0x11391a[_0x2ec7d4(0x9e)]])beritaLastUpdate[_0x11391a[_0x2ec7d4(0x9e)]]=[];await scheduleBerita(_0x11391a[_0x2ec7d4(0x9e)],_0x35dc5f);}else _0x4c61fb===_0x2ec7d4(0xa6)?(beritaTasks[_0x11391a['chat']]&&(beritaTasks[_0x11391a[_0x2ec7d4(0x9e)]][_0x2ec7d4(0xa1)](),delete beritaTasks[_0x11391a['chat']]),_0x35dc5f[_0x2ec7d4(0xa8)](_0x11391a['chat'],{'text':_0x2ec7d4(0x8c)})):_0x35dc5f[_0x2ec7d4(0xa8)](_0x11391a[_0x2ec7d4(0x9e)],{'text':_0x2ec7d4(0x98)});};handler[_0xc7092e(0xb2)]=[_0xc7092e(0x99)],handler[_0xc7092e(0x97)]=[_0xc7092e(0x9f)],handler[_0xc7092e(0xa3)]=/^(autoberita)$/i;export default handler;