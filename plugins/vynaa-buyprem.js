/*
SCRIPT BY © VYNAA VALERIE 
•• recode kasih credits 
•• contacts: (6282389924037)
•• instagram: @vynaa_valerie 
•• (github.com/VynaaValerie) 
*/
const _0x191586=_0x3f1f;function _0x3f1f(_0x5d7584,_0x489272){const _0x1022c2=_0x1022();return _0x3f1f=function(_0x3f1f93,_0x4e6487){_0x3f1f93=_0x3f1f93-0x68;let _0x1aa2e9=_0x1022c2[_0x3f1f93];return _0x1aa2e9;},_0x3f1f(_0x5d7584,_0x489272);}(function(_0x267809,_0x455597){const _0x21945b=_0x3f1f,_0x5fcb7d=_0x267809();while(!![]){try{const _0x1cc229=parseInt(_0x21945b(0x97))/0x1+parseInt(_0x21945b(0x69))/0x2*(-parseInt(_0x21945b(0x85))/0x3)+-parseInt(_0x21945b(0xa1))/0x4*(-parseInt(_0x21945b(0x93))/0x5)+parseInt(_0x21945b(0x7c))/0x6*(-parseInt(_0x21945b(0x6c))/0x7)+-parseInt(_0x21945b(0x68))/0x8+-parseInt(_0x21945b(0x73))/0x9*(parseInt(_0x21945b(0x70))/0xa)+parseInt(_0x21945b(0x78))/0xb;if(_0x1cc229===_0x455597)break;else _0x5fcb7d['push'](_0x5fcb7d['shift']());}catch(_0x3f52b9){_0x5fcb7d['push'](_0x5fcb7d['shift']());}}}(_0x1022,0xa71b2));import _0x522e94 from'node-fetch';import{paymentConfig}from'./vynaapay-config.js';const checkSaweriaPayment=async(_0x45a2d1,_0x5f1176,_0x29e7db,_0x4a44df,_0x32ca24)=>{let _0x5ee911=![],_0x1dd979=0x5,_0x19e604=0x0;const _0x2d3aff=setInterval(async()=>{const _0x8bc205=_0x3f1f;if(_0x19e604>=_0x1dd979){clearInterval(_0x2d3aff);if(_0x32ca24[_0x8bc205(0xa9)])delete _0x32ca24[_0x8bc205(0xa9)];_0x29e7db[_0x8bc205(0x7e)](_0x4a44df[_0x8bc205(0x9a)],_0x8bc205(0x94),_0x4a44df);return;}_0x19e604++;if(_0x5ee911)return;_0x5ee911=!![];try{console[_0x8bc205(0xa5)](_0x8bc205(0x91)+_0x19e604+'/'+_0x1dd979+')\x20untuk\x20refID:\x20'+_0x32ca24['payment']?.[_0x8bc205(0x71)]);const _0x405466=await _0x522e94(_0x8bc205(0xa2)+_0x32ca24[_0x8bc205(0xa9)]?.[_0x8bc205(0x71)]+'&user_id='+_0x45a2d1);if(!_0x405466['ok'])throw new Error(_0x8bc205(0x90));const _0x42b3b6=await _0x405466[_0x8bc205(0x9d)]();console['log'](_0x8bc205(0x9c),_0x42b3b6);if(_0x42b3b6[_0x8bc205(0x88)]===_0x8bc205(0x99)||_0x42b3b6['status']===_0x8bc205(0x6a)&&_0x42b3b6[_0x8bc205(0x98)]?.[_0x8bc205(0x80)]==='success'){clearInterval(_0x2d3aff);const _0x41e0dd=getPremiumDurationFromNominal(_0x5f1176);if(!_0x41e0dd){_0x29e7db[_0x8bc205(0x7e)](_0x4a44df[_0x8bc205(0x9a)],_0x8bc205(0xa6),_0x4a44df);return;}const _0x17154f=Date[_0x8bc205(0x84)]();_0x32ca24['premium']=!![],_0x32ca24[_0x8bc205(0x9b)]=_0x32ca24[_0x8bc205(0x9b)]&&_0x32ca24[_0x8bc205(0x9b)]>_0x17154f?_0x32ca24['premiumTime']+_0x41e0dd:_0x17154f+_0x41e0dd,delete _0x32ca24[_0x8bc205(0xa9)];const _0x4eb629=_0x8bc205(0xa8)+_0x5f1176+'\x0a⏳\x20*Premium\x20Aktif\x20Selama:*\x20'+_0x41e0dd/0x5265c00+'\x20Hari';await _0x29e7db[_0x8bc205(0x7f)](_0x4a44df['chat'],{'text':_0x4eb629},{'quoted':_0x4a44df});return;}_0x42b3b6['data']?.[_0x8bc205(0x80)]==='failed'?(clearInterval(_0x2d3aff),delete _0x32ca24[_0x8bc205(0xa9)],_0x29e7db[_0x8bc205(0x7e)](_0x4a44df[_0x8bc205(0x9a)],_0x8bc205(0xaa),_0x4a44df)):console['log'](_0x8bc205(0x7b)+(_0x42b3b6['data']?.[_0x8bc205(0x80)]||_0x8bc205(0x74))+_0x8bc205(0xa4));}catch(_0x36b73e){console[_0x8bc205(0x83)](_0x8bc205(0x89),_0x36b73e['message']);}finally{_0x5ee911=![];}},0x4e20);},getPremiumDurationFromNominal=_0x4eca7e=>{const _0x2afbfa=_0x3f1f,_0x4a9b77=Object[_0x2afbfa(0x8e)](paymentConfig['prices'])[_0x2afbfa(0x6e)](([_0xbc6c3e,_0x11ab9d])=>_0x11ab9d===_0x4eca7e)?.[0x0];return _0x4a9b77?parseInt(_0x4a9b77)*0x5265c00:null;},handler=async(_0x2d27a7,{conn:_0x106b35,text:_0x2427e2})=>{const _0x492ae3=_0x3f1f,_0x52c581=parseInt(_0x2427e2);if(!_0x52c581||isNaN(_0x52c581)||_0x52c581<0x3)return _0x106b35[_0x492ae3(0x7e)](_0x2d27a7['chat'],_0x492ae3(0x6d)+Object[_0x492ae3(0x8e)](paymentConfig[_0x492ae3(0x6f)])[_0x492ae3(0x9f)](([_0x44092e,_0x1a034c])=>'•\x20'+_0x44092e+_0x492ae3(0x81)+_0x1a034c)[_0x492ae3(0x8c)]('\x0a')+'\x0a\x0aKetik\x20*.buyprem\x20<jumlah\x20hari>*\x20untuk\x20membeli\x20premium.\x20Contoh:\x20*.buyprem\x2090*',_0x2d27a7);const _0x38f113=paymentConfig['prices'][_0x52c581];if(!_0x38f113)return _0x106b35[_0x492ae3(0x7e)](_0x2d27a7[_0x492ae3(0x9a)],_0x492ae3(0xa3),_0x2d27a7);const {email:_0x8b369,userID:_0x514922,name:_0x24934b}=paymentConfig,_0x444074='Pembayaran\x20sebesar\x20Rp'+_0x38f113;await _0x106b35[_0x492ae3(0x7e)](_0x2d27a7[_0x492ae3(0x9a)],_0x492ae3(0x7a)+_0x38f113+_0x492ae3(0x95)+_0x52c581+_0x492ae3(0x92),_0x2d27a7);try{const _0x388a68=await _0x522e94('https://itzpire.com/saweria/create-payment?amount='+_0x38f113+_0x492ae3(0x8d)+encodeURIComponent(_0x24934b)+_0x492ae3(0x86)+encodeURIComponent(_0x8b369)+_0x492ae3(0x9e)+_0x514922+'&msg='+encodeURIComponent(_0x444074));if(!_0x388a68['ok'])throw new Error(_0x492ae3(0x82));const _0x4d62bb=await _0x388a68[_0x492ae3(0x9d)]();if(_0x4d62bb[_0x492ae3(0x80)]===_0x492ae3(0x6a)&&_0x4d62bb['data']){const {qr_image:_0x1424f6,url:_0x6c395f}=_0x4d62bb['data'];let _0x43faea=global['db'][_0x492ae3(0x98)][_0x492ae3(0x8f)][_0x2d27a7[_0x492ae3(0x77)]];if(!_0x43faea)_0x43faea=global['db'][_0x492ae3(0x98)][_0x492ae3(0x8f)][_0x2d27a7[_0x492ae3(0x77)]]={'saldo':0x0};_0x43faea[_0x492ae3(0xa9)]={'refID':_0x4d62bb[_0x492ae3(0x98)]['id'],'amount':_0x38f113,'status':'pending','qrImage':_0x1424f6,'paymentUrl':_0x6c395f},await _0x106b35[_0x492ae3(0x7f)](_0x2d27a7[_0x492ae3(0x9a)],{'image':{'url':_0x1424f6},'caption':_0x492ae3(0x79)+_0x38f113+_0x492ae3(0x7d)+_0x52c581+'\x20Hari\x0a\x0a📌\x20*Langkah\x20Pembayaran:*\x0a1.\x20Scan\x20QR\x20code\x20di\x20bawah\x20ini\x20menggunakan\x20aplikasi\x20pembayaran.\x0a2.\x20Pastikan\x20nominal\x20pembayaran\x20sesuai\x20(Rp'+_0x38f113+').\x0a3.\x20Tunggu\x20proses\x20verifikasi\x20(maksimal\x205\x20menit).\x0a\x0a🌐\x20*Link\x20Pembayaran:*\x0a[Klik\x20untuk\x20Membayar]('+_0x6c395f+_0x492ae3(0xa0)},{'quoted':_0x2d27a7}),checkSaweriaPayment(_0x514922,_0x38f113,_0x106b35,_0x2d27a7,_0x43faea);}else throw new Error(_0x4d62bb['error_msg']||_0x492ae3(0x87));}catch(_0x57df79){console[_0x492ae3(0x83)](_0x492ae3(0x76),_0x57df79),_0x106b35[_0x492ae3(0x7e)](_0x2d27a7[_0x492ae3(0x9a)],_0x492ae3(0xa7)+_0x57df79[_0x492ae3(0x6b)],_0x2d27a7);}};function _0x1022(){const _0x358e42=['msg','❌\x20Kesalahan\x20Verifikasi\x20Pembayaran:','private','buyprem\x20<jumlah\x20hari>','join','&name=','entries','users','Gagal\x20menerima\x20respons\x20dari\x20server.','🔍\x20Verifikasi\x20pembayaran\x20(','\x20hari.\x20Silakan\x20lakukan\x20pembayaran\x20melalui\x20QR\x20code\x20yang\x20muncul\x20nanti.','179015vvOcTT','❌\x20Verifikasi\x20pembayaran\x20gagal.\x20Silakan\x20coba\x20lagi\x20nanti.','\x20untuk\x20','help','1323842TNpaxB','data','OA4XSN','chat','premiumTime','📄\x20Respons\x20API:','json','&user_id=','map',')\x0a\x0a>\x20©\x20VL-CODER','64kWEFgw','https://itzpire.com/saweria/check-payment?id=','❌\x20Jumlah\x20hari\x20tidak\x20valid.\x20Silakan\x20pilih\x20dari\x20daftar\x20harga\x20yang\x20tersedia.','.\x20Proses\x20berlanjut...','log','❌\x20Nominal\x20tidak\x20valid\x20untuk\x20aktivasi\x20premium.','Terjadi\x20kesalahan\x20saat\x20membuat\x20QR\x20code\x20pembayaran.\x20','✅\x20*Pembayaran\x20Berhasil!*\x0a\x0a💰\x20*Nominal:*\x20Rp','payment','❌\x20Pembayaran\x20gagal.\x20Silakan\x20coba\x20lagi.','10327232hhYzCG','18NAVTaO','success','message','50099asyORY','*📋\x20Daftar\x20Harga\x20Premium*\x0a\x0a','find','prices','10VHiMrE','refID','tags','3620403FynCdL','pending','register','Kesalahan\x20API:','sender','13790337fddTDd','🎉\x20*Pembelian\x20Premium*\x0a\x0a💰\x20*Total\x20Pembayaran:*\x20Rp','⏳\x20Anda\x20akan\x20melakukan\x20pembelian\x20premium\x20sebesar\x20Rp','Status\x20pembayaran:\x20','588QxkXCV','\x0a⏳\x20*Durasi\x20Premium:*\x20','reply','sendMessage','status','\x20Hari:\x20Rp','Gagal\x20membuat\x20pembayaran.\x20Silakan\x20coba\x20lagi.','error','now','23778tXBIck','&email=','Terjadi\x20kesalahan\x20yang\x20tidak\x20diketahui.'];_0x1022=function(){return _0x358e42;};return _0x1022();}handler[_0x191586(0x96)]=[_0x191586(0x8b)],handler[_0x191586(0x72)]=['general'],handler['command']=/^(buyprem)$/i,handler[_0x191586(0x75)]=!![],handler[_0x191586(0x8a)]=!![];export default handler;